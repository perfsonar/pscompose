<div class="wizard-page">
    <div style="display: flex; flex-direction: column; gap: 8px">
        <h3 style="color: #e6e6e6; font-weight: 500">New Template</h3>
        <div class="progress-bar">
            <web-button
                data-link="/wizard/3/archives/"
                data-label="Previous"
                data-label="Previous"
                data-theme="Primary"
                data-leftIcon="arrow-left"
            ></web-button>
            <progress-bar step="4"></progress-bar>
            <web-button
                data-link="/wizard/5/tests/"
                data-label="Next"
                data-theme="Tertiary"
                data-righticon="arrow-right"
            ></web-button>
        </div>
    </div>
    <div class="step-section">
        <h2>Step 4) Schedules</h2>
        <p class="step-text">
            Schedules are optional components that specify how often to run each task. Make sure
            that all schedules required for your tasks are included in the list below. You can read
            more about schedules
            <a
                href="https://docs.perfsonar.net/psconfig_templates_intro.html#schedules"
                target="_blank"
                >here</a
            >.
            <br />
            <br />
            Use the New Schedule button to add new schedules as needed.
        </p>
        <div class="step-box">
            <div class="step-box-left">
                <dropdown-single-select label="Schedule" options=""> </dropdown-single-select>
                <web-button
                    id="new-schedule-btn"
                    data-label="New Schedule"
                    data-theme="Shadow"
                    data-lefticon="calendar-check"
                ></web-button>
            </div>
            <div class="step-box-right">
                <i
                    style="color: var(--shadow-color); width: 150; height: 150"
                    data-lucide="calendar-check"
                ></i>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelector("#new-schedule-btn").addEventListener("click", () => {
        let container = document.querySelector(".step-box-right");
        container.innerHTML = `<div class="w-full" 
                                    hx-get="/partials/data_forms/schedules/schedule_new_form.html" 
                                    hx-trigger="load"></div>`;
        htmx.process(container);
    });
</script>
