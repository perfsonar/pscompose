<div class="wizard-page">
    <div style="display: flex; flex-direction: column; gap: 8px">
        <h3 style="color: #e6e6e6; font-weight: 500">New Template</h3>
        <div class="progress-bar">
            <web-button
                data-link="/wizard/2/groups/"
                data-label="Previous"
                data-theme="Primary"
                data-leftIcon="arrow-left"
            ></web-button>
            <progress-bar step="3"></progress-bar>
            <web-button
                data-link="/wizard/4/schedules/"
                data-label="Next"
                data-theme="Tertiary"
                data-righticon="arrow-right"
            ></web-button>
        </div>
    </div>
    <div class="step-section">
        <h2>Step 3) Archives</h2>
        <p class="step-text">
            Archives are optional components that specify where the results of your tasks will be
            stored. Make sure that all archives required for your tasks are included in the list
            below. You can read more about archives
            <a
                href="https://docs.perfsonar.net/psconfig_templates_intro.html#archives"
                target="_blank"
                >here</a
            >.
            <br />
            <br />
            Use the <b>New Archive</b> button to add new archives as needed.
        </p>
        <div class="step-box">
            <div class="step-box-left">
                <dropdown-single-select label="Archive" options=""> </dropdown-single-select>
                <web-button
                    id="new-archive-btn"
                    data-label="New Archive"
                    data-theme="Shadow"
                    data-lefticon="database"
                ></web-button>
            </div>
            <div class="step-box-right">
                <i
                    style="color: var(--shadow-color); width: 150; height: 150"
                    data-lucide="database"
                ></i>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelector("#new-archive-btn").addEventListener("click", () => {
        let container = document.querySelector(".step-box-right");
        container.innerHTML = `<div class="w-full" 
                                    hx-get="/partials/data_forms/archives/archive_new_form.html" 
                                    hx-trigger="load"></div>`;
        htmx.process(container);
    });
</script>
